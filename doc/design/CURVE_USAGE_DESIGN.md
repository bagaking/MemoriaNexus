# Ebbinghaus Curve 系统要如何设计

> @PM [bagaking](kinghand@foxmail.com)

## 什么是间隔重复和 Ebbinghaus Curve

Ebbinghaus 遗忘曲线的复习时间点通常基于 "间隔效应"，也称为 "间隔重复"。
这种学习方法涉及在不断增加的时间间隔后复习学习材料，以加强记忆。
虽然具体的间隔可能根据个人或学习材料的不同而有所变化，但一个常见的复习时间点模式如下：

第一次复习：学习后20分钟；
第二次复习：学习后1小时；
第三次复习：学习后9小时；
第四次复习：学习后1天；
第五次复习：学习后2天；
第六次复习：学习后4天；
第七次复习：学习后7天；
此后每隔几周复习一次。

这些时间点并非固定，学习者可以根据个人记忆能力的提高或减弱相应地调整复习间隔。
使用间隔重复方法有助于最大程度地减少遗忘并保持长期记忆。

## 实现思路

pkg 提供独立的包，既可以被服务引用，也可以单独使用

### 基本的 API

> 每次复习时间 -> 下次复习时间

基本的接口应该是提供一个待复习内容和上次学习时间，返回推荐复习的时间点

### 拓展 1 适应过程的 API

> 每次复习时间 + 置信程度 -> 下次复习时间

衍生的接口是提供待复习内容、上次学习时间、复习有效的置信度，返回推荐复习的时间点

由于置信度是一个较难直接给出的值，可以用一些容易得到的信息进行推测，比如

- 自感置信程度：显而易见、思考后直接描述原理和细节、能说出关键字、需要猜、模糊、陌生
- 近几次实际复习间隔情况，可以设计一些估算公式，避免对所有复习时间进行回溯
- 相关知识掌握情况

### 拓展 2 因人而异的参数

> 每次复习时间 + 置信程度 ->|个人参数| 下次复习时间

根据统计情况，修整记忆曲线的复习时间点模式

## 一些细节

#### Review Level 而不是 Review Count

一个关注点是: 不能认为 review 次数就是真实的次数，而是要根据置信度的情况计算出等价 review。
比如小A很长时间没复习, 忘记了一个知识, 虽然他的 review 次数实际可能已经 20 次了， 但是实际等价出的 review 次数相当于 1~2 次，此时要返回真实的 review 次数。

或者说，这种情况下不应该叫做 review 次数(count)，而应该叫做 review 级别(level)。而每次计算后，都要返回新的 review level。

同样的，如果给用户调整一个新的复习计划（也就是调整曲线上的时间参数），此时原本的 review level 如何换算到新参数下，显然也不是直接映射。

#### 置信度如何印象用户的遗忘速度 (也就是记忆参数)

置信度高于合理的置信度时
- 如果复习间隔比预计的间隔长，则意味着遗忘速度可能被高估了，因为过了更久还记得
- 如果复习间隔比预计的间隔短，不说明任何问题

置信度低于合理的置信度时
- 如果复习间隔比预计的间隔短，则意味着遗忘速度可能被低估了，因为忘得更快
- 如果复习间隔比预计的间隔长，则不说明任何问题

遗忘速度应该因人而异，且因复习的具体内容而异
